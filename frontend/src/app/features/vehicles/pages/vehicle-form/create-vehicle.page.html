<app-form-card-layout [pageTitle]="isEditMode ? 'Editar Veículo' : 'Cadastrar Veículo'" (onBack)="goBack()">
  <form [formGroup]="vehicleForm" (ngSubmit)="onSubmit()" class="vehicle-form">
    <app-photo-upload 
      [photoPreview]="photoPreview" 
      [rounded]="false"
      (fileSelected)="onFileSelected($event)"
    />

        <div class="form-group">
          <label for="name">Nome do Veículo</label>
          <input
            id="name"
            type="text"
            formControlName="name"
            placeholder="Digite o nome"
            class="input-field"
          />
        </div>

        <div class="form-group">
          <label for="bodyType">Tipo de Carroceria</label>
          <select
            id="bodyType"
            formControlName="bodyType"
            class="input-field"
          >
            <option value="">Selecione</option>
            @for (option of bodyTypeOptions; track option.value) {
              <option [value]="option.value">{{ option.label }}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label for="engineType">Tipo de Motor</label>
          <select
            id="engineType"
            formControlName="engineType"
            class="input-field"
          >
            <option value="">Selecione</option>
            @for (option of engineTypeOptions; track option.value) {
              <option [value]="option.value">{{ option.label }}</option>
            }
          </select>
        </div>

        <div class="form-group">
          <label for="seats">Quantidade de Lugares</label>
          <select
            id="seats"
            formControlName="seats"
            class="input-field"
          >
            <option [value]="null">Selecione</option>
            @for (seats of seatsOptions; track seats) {
              <option [value]="seats">{{ seats }}</option>
            }
          </select>
        </div>

        @if (errorMessage) {
          <app-error-message [message]="errorMessage" />
        }

        <div class="buttons">
          <app-button
            [text]="isEditMode ? 'Salvar' : 'Cadastrar'"
            [loadingText]="isEditMode ? 'Salvando...' : 'Cadastrando...'"
            [isLoading]="isLoading"
            [disabled]="vehicleForm.invalid"
            [type]="'submit'"
          />
          <app-button
            [text]="'Cancelar'"
            [type]="'button'"
            [variant]="'danger'"
            (clicked)="goBack()"
            [disabled]="isLoading"
          />
        </div>
      </form>
</app-form-card-layout>
