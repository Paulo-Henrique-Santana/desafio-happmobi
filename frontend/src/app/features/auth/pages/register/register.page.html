<div class="register-container">
  <div class="register-card">
    <app-logo-header />

    <form class="register-form" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="photo-upload">
        <label for="photo-input" class="photo-label">
          @if (photoPreview) {
            <img [src]="photoPreview" alt="Preview" class="photo-preview" />
          } @else {
            <div class="photo-placeholder">
              <span>ðŸ“·</span>
              <p>Adicionar foto</p>
            </div>
          }
        </label>
        <input
          id="photo-input"
          type="file"
          accept="image/*"
          (change)="onFileSelected($event)"
          class="photo-input"
        />
      </div>

      <input
        type="text"
        class="input-field"
        placeholder="Nome completo"
        formControlName="name"
      />

      <input
        type="email"
        class="input-field"
        placeholder="E-mail"
        formControlName="email"
      />

      <input
        type="password"
        class="input-field"
        placeholder="Senha"
        formControlName="password"
      />

      <input
        type="password"
        class="input-field"
        placeholder="Confirmar senha"
        formControlName="confirmPassword"
      />

      @if (registerForm.get('confirmPassword')?.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched) {
        <app-error-message message="As senhas nÃ£o coincidem" />
      }

      <app-error-message [message]="errorMessage" />

      <app-button 
        text="CADASTRAR" 
        loadingText="CADASTRANDO..." 
        [isLoading]="isLoading" 
        [disabled]="registerForm.invalid" />
    </form>

    <div class="login-section">
      <span>JÃ¡ tem cadastro? </span>
      <a (click)="goToLogin()" class="login-link">Fazer login</a>
    </div>
  </div>
</div>
